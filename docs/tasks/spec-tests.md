# Spec Tests

## Objective
Run the latest consensus spec tests at all times. Track and fix failures.

## Status: IN PROGRESS

### Current results
- **76/77 ef_tests pass** (as of 2026-02-16)
- All gloas fork_choice_reorg tests pass (4 previously failing now pass)
- 3 altair proposer_boost tests skipped as known upstream failures (sigp/lighthouse#8689)
- 1 KZG SIGABRT (environment issue, not code)

### Tasks
- [ ] Audit spec test runner — understand download, cache, run flow
- [ ] Check which spec test version is currently pinned
- [ ] Update to latest spec test release when new ones drop
- [ ] Ensure all existing fork tests pass (phase0 through fulu)
- [ ] Add gloas test scaffolding: register fork, add handlers, wire new test types
- [ ] Set up CI job: download latest vectors, run all tests, fail on regression
- [ ] Create automated PR bot for new spec test releases

### Test categories
bls, epoch_processing, finality, fork, fork_choice, genesis, light_client, operations, random, rewards, sanity, ssz_static, transition

## Progress log

### 2026-02-15 — 76/77 passing
- All gloas fork_choice_reorg tests fixed (root, payload_status model correct)
- Added known-failure skips for 3 altair tests (upstream also hasn't fixed)
- Commit: `3b677712a`

### 2026-02-14 — SSZ static pass
- 66/67 SSZ static tests pass, all gloas types pass
- 1 pre-existing failure: DataColumnSidecar (Gloas spec added `kzg_commitments` field)
- Added gloas fork filters, registered 15 new type_name entries
